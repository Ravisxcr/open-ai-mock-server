{% extends 'base.html' %}

{% block title %}Create API Key - OpenAI Mock Server{% endblock %}

{% block extra_css %}
<style>
    /* Style Django form inputs */
    input[type="text"], input[type="email"], input[type="number"], input[type="datetime-local"], select, textarea {
        @apply w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white;
    }
    
    /* Style checkboxes */
    input[type="checkbox"] {
        @apply h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded;
    }
    
    /* Hover effects for inputs */
    input[type="text"]:hover, input[type="email"]:hover, input[type="number"]:hover, input[type="datetime-local"]:hover, select:hover, textarea:hover {
        @apply border-gray-400;
    }
</style>
{% endblock %}

{% block content %}
<div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 pb-4 border-b border-gray-200">
    <h1 class="text-2xl sm:text-3xl font-bold text-gray-800 mb-4 sm:mb-0">
        <i class="fas fa-plus text-blue-600 mr-2"></i> Create API Key
    </h1>
    <a href="{% url 'api_keys' %}" class="w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">
        <i class="fas fa-arrow-left mr-2"></i> Back to API Keys
    </a>
</div>

<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
    <div class="lg:col-span-2">
        <div class="bg-white rounded-2xl shadow-xl p-8 border border-gray-100">
            <form method="post" class="space-y-3">
                {% csrf_token %}
                <div>
                    <label for="{{ form.name.id_for_label }}" class="block text-xs font-semibold text-gray-700 mb-0.5">
                        {{ form.name.label }}
                    </label>
                    <div class="relative">
                        {{ form.name }}
                    </div>
                    <div class="text-xs text-gray-400 mt-0.5">A friendly name to identify this API key.</div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
                    <div>
                        <label for="{{ form.plan.id_for_label }}" class="block text-xs font-semibold text-gray-700 mb-0.5">
                            {{ form.plan.label }}
                        </label>
                        <div class="relative">
                            {{ form.plan }}
                        </div>
                    </div>
                    <div>
                        <label for="{{ form.expires_at.id_for_label }}" class="block text-xs font-semibold text-gray-700 mb-0.5">
                            {{ form.expires_at.label }}
                        </label>
                        <div class="relative">
                            {{ form.expires_at }}
                        </div>
                        <div class="text-xs text-gray-400 mt-0.5">Leave empty for no expiration.</div>
                    </div>
                </div>
                <h3 class="text-base font-semibold text-gray-800 mt-3 mb-1">Rate Limits</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
                    <div>
                        <label for="{{ form.requests_per_minute.id_for_label }}" class="block text-xs font-semibold text-gray-700 mb-0.5">
                            {{ form.requests_per_minute.label }}
                        </label>
                        <div class="relative">
                            {{ form.requests_per_minute }}
                        </div>
                    </div>
                    <div>
                        <label for="{{ form.requests_per_day.id_for_label }}" class="block text-xs font-semibold text-gray-700 mb-0.5">
                            {{ form.requests_per_day.label }}
                        </label>
                        <div class="relative">
                            {{ form.requests_per_day }}
                        </div>
                    </div>
                </div>
                <h3 class="text-base font-semibold text-gray-800 mt-3 mb-1">Permissions</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
                    <div class="space-y-1">
                        <div class="flex items-center">
                            {{ form.can_chat_completions }}
                            <label class="ml-2 text-xs text-gray-700 font-medium" for="{{ form.can_chat_completions.id_for_label }}">
                                {{ form.can_chat_completions.label }}
                            </label>
                        </div>
                        <div class="flex items-center">
                            {{ form.can_embeddings }}
                            <label class="ml-2 text-xs text-gray-700 font-medium" for="{{ form.can_embeddings.id_for_label }}">
                                {{ form.can_embeddings.label }}
                            </label>
                        </div>
                    </div>
                    <div class="space-y-1">
                        <div class="flex items-center">
                            {{ form.can_moderations }}
                            <label class="ml-2 text-xs text-gray-700 font-medium" for="{{ form.can_moderations.id_for_label }}">
                                {{ form.can_moderations.label }}
                            </label>
                        </div>
                        <div class="flex items-center">
                            {{ form.can_images }}
                            <label class="ml-2 text-xs text-gray-700 font-medium" for="{{ form.can_images.id_for_label }}">
                                {{ form.can_images.label }}
                            </label>
                        </div>
                    </div>
                </div>
                <div class="flex justify-between mt-3">
                    <a href="{% url 'api_keys' %}" class="inline-flex items-center px-3 py-1 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium text-xs">
                        Cancel
                    </a>
                    <button type="submit" class="inline-flex items-center px-4 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold shadow text-xs">
                        <i class="fas fa-save mr-2"></i> Create API Key
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <div class="space-y-8">
        <div class="bg-white rounded-2xl shadow-xl border border-gray-100">
            <div class="px-6 py-4 border-b border-gray-100">
                <h3 class="text-lg font-semibold text-gray-800">Plan Features</h3>
            </div>
            <div class="p-6 space-y-6">
                <div>
                    <span class="font-semibold text-blue-600">Free Plan</span>
                    <ul class="text-xs text-gray-600 list-disc ml-5 mt-2">
                        <li>10 requests/minute</li>
                        <li>1,000 requests/day</li>
                        <li>Basic endpoints</li>
                    </ul>
                </div>
                <div>
                    <span class="font-semibold text-green-600">Basic Plan</span>
                    <ul class="text-xs text-gray-600 list-disc ml-5 mt-2">
                        <li>60 requests/minute</li>
                        <li>10,000 requests/day</li>
                        <li>All endpoints</li>
                    </ul>
                </div>
                <div>
                    <span class="font-semibold text-cyan-600">Premium Plan</span>
                    <ul class="text-xs text-gray-600 list-disc ml-5 mt-2">
                        <li>500 requests/minute</li>
                        <li>100,000 requests/day</li>
                        <li>All endpoints</li>
                        <li>Priority support</li>
                    </ul>
                </div>
                <div>
                    <span class="font-semibold text-yellow-600">Enterprise Plan</span>
                    <ul class="text-xs text-gray-600 list-disc ml-5 mt-2">
                        <li>Unlimited requests</li>
                        <li>All endpoints</li>
                        <li>Custom features</li>
                        <li>Dedicated support</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}