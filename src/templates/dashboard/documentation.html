{% extends 'base.html' %}

{% block title %}API Documentation - OpenAI Mock Server{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 pb-4 border-b border-gray-200">
        <h1 class="text-2xl sm:text-3xl font-bold text-gray-800 mb-4 sm:mb-0">
            <i class="fas fa-book text-blue-600 mr-2"></i> API Documentation
        </h1>
        <a href="https://platform.openai.com/docs/api-reference" target="_blank" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
            <i class="fas fa-external-link-alt mr-2"></i> OpenAI Reference
        </a>
    </div>

    <div class="bg-white rounded-lg shadow-md border border-gray-200 p-8 mb-8">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">Getting Started</h2>
        <p class="text-gray-700 mb-4">
            Welcome to the OpenAI Mock Server! This server mimics the OpenAI API, allowing you to test your integrations and workflows in a safe environment. All endpoints and authentication methods are compatible with the official OpenAI API.
        </p>
        <div class="mb-4">
            <span class="font-medium text-gray-700">Base URL:</span>
            <code class="text-xs bg-gray-100 px-2 py-1 rounded text-gray-800">{{ request.scheme }}://{{ request.get_host }}/v1/</code>
        </div>
        <div class="mb-4">
            <span class="font-medium text-gray-700">Authentication:</span>
            <code class="text-xs bg-gray-100 px-2 py-1 rounded text-gray-800">Bearer YOUR_API_KEY</code>
        </div>
        <div class="mb-4">
            <span class="font-medium text-gray-700">Content-Type:</span>
            <code class="text-xs bg-gray-100 px-2 py-1 rounded text-gray-800">application/json</code>
        </div>
    </div>

    <div class="bg-white rounded-lg shadow-md border border-gray-200 p-8 mb-8">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">Available Endpoints</h2>
        <ul class="space-y-4">
            <li>
                <div class="flex items-center mb-1">
                    <code class="text-xs bg-gray-100 px-2 py-1 rounded text-blue-700 mr-2">POST /v1/chat/completions</code>
                    <span class="text-xs text-gray-500">Chat Completions</span>
                </div>
                <p class="text-gray-600 ml-2">Generate chat-based completions using supported models.</p>
            </li>
            <li>
                <div class="flex items-center mb-1">
                    <code class="text-xs bg-gray-100 px-2 py-1 rounded text-blue-700 mr-2">POST /v1/embeddings</code>
                    <span class="text-xs text-gray-500">Embeddings</span>
                </div>
                <p class="text-gray-600 ml-2">Get vector embeddings for text inputs.</p>
            </li>
            <li>
                <div class="flex items-center mb-1">
                    <code class="text-xs bg-gray-100 px-2 py-1 rounded text-blue-700 mr-2">POST /v1/moderations</code>
                    <span class="text-xs text-gray-500">Moderations</span>
                </div>
                <p class="text-gray-600 ml-2">Check content for policy violations.</p>
            </li>
            <li>
                <div class="flex items-center mb-1">
                    <code class="text-xs bg-gray-100 px-2 py-1 rounded text-blue-700 mr-2">POST /v1/images/generations</code>
                    <span class="text-xs text-gray-500">Image Generation</span>
                </div>
                <p class="text-gray-600 ml-2">Generate images from text prompts.</p>
            </li>
            <li>
                <div class="flex items-center mb-1">
                    <code class="text-xs bg-gray-100 px-2 py-1 rounded text-blue-700 mr-2">GET /v1/models</code>
                    <span class="text-xs text-gray-500">List Models</span>
                </div>
                <p class="text-gray-600 ml-2">List all available models.</p>
            </li>
        </ul>
    </div>

    <div class="bg-white rounded-lg shadow-md border border-gray-200 p-8">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">Example Request</h2>
        <pre class="bg-gray-100 rounded-lg p-4 text-sm text-gray-800 overflow-x-auto mb-2"><span class="text-gray-400"># Example: Chat Completion</span>
curl -X POST "{{ request.scheme }}://{{ request.get_host }}/v1/chat/completions" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "gpt-3.5-turbo",
    "messages": [
      {"role": "user", "content": "Hello!"}
    ]
  }'
</pre>
        <div class="text-xs text-gray-500">Replace <code>YOUR_API_KEY</code> with your actual API key from the dashboard.</div>
    </div>
</div>
{% endblock %}
